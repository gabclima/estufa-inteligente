import { controllers } from "@/pages/controllers";
import { APP_PATHS, PANEL_MENUS } from "../constants";
import { dashboard } from "./dashboard";

 
export const panelMenus = [
  {
    id: PANEL_MENUS.DASHBOARD,
    path: APP_PATHS.DASHBOARD,
    ariaLabel: "Dashboard",
    icon: `
      <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M1.375 0C1.01033 0 0.660591 0.144866 0.402728 0.402728C0.144866 0.660591 0 1.01033 0 1.375L0 5.5C0 5.86467 0.144866 6.21441 0.402728 6.47227C0.660591 6.73013 1.01033 6.875 1.375 6.875H8.25C8.61467 6.875 8.96441 6.73013 9.22227 6.47227C9.48013 6.21441 9.625 5.86467 9.625 5.5V1.375C9.625 1.01033 9.48013 0.660591 9.22227 0.402728C8.96441 0.144866 8.61467 0 8.25 0L1.375 0ZM13.75 15.125C13.3853 15.125 13.0356 15.2699 12.7777 15.5277C12.5199 15.7856 12.375 16.1353 12.375 16.5V20.625C12.375 20.9897 12.5199 21.3394 12.7777 21.5973C13.0356 21.8551 13.3853 22 13.75 22H20.625C20.9897 22 21.3394 21.8551 21.5973 21.5973C21.8551 21.3394 22 20.9897 22 20.625V16.5C22 16.1353 21.8551 15.7856 21.5973 15.5277C21.3394 15.2699 20.9897 15.125 20.625 15.125H13.75ZM1.375 9.625C1.01033 9.625 0.660591 9.76987 0.402728 10.0277C0.144866 10.2856 0 10.6353 0 11L0 20.625C0 20.9897 0.144866 21.3394 0.402728 21.5973C0.660591 21.8551 1.01033 22 1.375 22H8.25C8.61467 22 8.96441 21.8551 9.22227 21.5973C9.48013 21.3394 9.625 20.9897 9.625 20.625V11C9.625 10.6353 9.48013 10.2856 9.22227 10.0277C8.96441 9.76987 8.61467 9.625 8.25 9.625H1.375ZM13.75 0C13.3853 0 13.0356 0.144866 12.7777 0.402728C12.5199 0.660591 12.375 1.01033 12.375 1.375V11C12.375 11.3647 12.5199 11.7144 12.7777 11.9723C13.0356 12.2301 13.3853 12.375 13.75 12.375H20.625C20.9897 12.375 21.3394 12.2301 21.5973 11.9723C21.8551 11.7144 22 11.3647 22 11V1.375C22 1.01033 21.8551 0.660591 21.5973 0.402728C21.3394 0.144866 20.9897 0 20.625 0L13.75 0Z" fill="currentColor"/>
      </svg>
    `,
    page: dashboard
  },
  {
    id: PANEL_MENUS.CONTROLLERS,
    path: APP_PATHS.CONTROLLERS,
    ariaLabel: "Controladores",
    icon: `
      <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M21 8H19.4874C19.3816 7.7008 19.2597 7.40713 19.1223 7.12027L20.1923 6.0502C20.5829 5.65973 20.5829 5.02653 20.1923 4.636L17.364 1.8076C16.9735 1.41707 16.3403 1.41707 15.9498 1.8076L14.8797 2.8776C14.5929 2.74027 14.2993 2.61847 14 2.51253V1C14 0.447733 13.5523 0 13 0H9C8.44773 0 8 0.447733 8 1V2.5126C7.7008 2.61847 7.40713 2.74027 7.12033 2.8776L6.05027 1.8076C5.6598 1.417 5.0266 1.41707 4.63607 1.8076L1.8076 4.636C1.62007 4.82353 1.51467 5.07787 1.51467 5.34307C1.51467 5.60827 1.62 5.86267 1.8076 6.05013L2.87767 7.1202C2.74033 7.40713 2.61847 7.70073 2.5126 7.99993H1C0.447733 7.99993 0 8.44767 0 8.99993V12.9999C0 13.5522 0.447733 13.9999 1 13.9999H2.5126C2.61847 14.2991 2.74033 14.5928 2.87767 14.8797L1.8076 15.9497C1.62007 16.1373 1.51467 16.3916 1.51467 16.6568C1.51467 16.922 1.62 17.1764 1.8076 17.3639L4.63613 20.1923C5.02667 20.5829 5.6598 20.5827 6.05033 20.1923L7.1204 19.1223C7.4072 19.2596 7.7008 19.3814 8 19.4873V21C8 21.5523 8.44773 22 9 22H13C13.5523 22 14 21.5523 14 21V19.4874C14.2993 19.3815 14.5929 19.2597 14.8797 19.1223L15.9498 20.1923C16.3403 20.5828 16.9735 20.5828 17.364 20.1923L20.1924 17.3639C20.5829 16.9735 20.5829 16.3403 20.1924 15.9497L19.1224 14.8797C19.2598 14.5927 19.3817 14.2991 19.4875 13.9999H21C21.5523 13.9999 22 13.5522 22 12.9999V8.99993C22 8.44773 21.5523 8 21 8ZM20 12H18.7479C18.2916 12 17.8931 12.3089 17.7795 12.7509C17.6171 13.3823 17.3653 13.9893 17.031 14.5549C16.7989 14.9478 16.8621 15.4479 17.1849 15.7707L18.0711 16.6569L16.6569 18.0711L15.7707 17.1849C15.448 16.8622 14.9479 16.799 14.5549 17.031C13.9896 17.3651 13.3826 17.6169 12.7507 17.7795C12.3089 17.8933 12 18.2917 12 18.7479V20H10V18.7479C10 18.2917 9.69113 17.8933 9.24927 17.7795C8.61753 17.6169 8.01067 17.3651 7.44527 17.031C7.05227 16.7989 6.5522 16.8621 6.22947 17.1849L5.3432 18.0711L3.92887 16.6569L4.81513 15.7707C5.13787 15.448 5.20113 14.9478 4.969 14.5549C4.63493 13.9895 4.38307 13.3825 4.22047 12.7507C4.1068 12.3089 3.70833 12 3.25207 12H2V10H3.25207C3.70833 10 4.10673 9.69113 4.22047 9.24927C4.38307 8.61753 4.63493 8.01053 4.969 7.44507C5.20113 7.05213 5.13787 6.55193 4.81513 6.22933L3.92893 5.34307L5.3432 3.92887L6.22947 4.81513C6.55213 5.1378 7.05247 5.20113 7.44527 4.969C8.01053 4.63493 8.61753 4.38313 9.24933 4.22047C9.69113 4.1068 10 3.70833 10 3.25207V2H12V3.25207C12 3.70833 12.3089 4.10673 12.7507 4.22047C13.3826 4.38313 13.9896 4.63493 14.5549 4.969C14.9477 5.201 15.4479 5.13787 15.7707 4.81513L16.6569 3.92887L18.0711 5.34307L17.1848 6.22933C16.8621 6.55207 16.7988 7.05227 17.0309 7.44513C17.3652 8.01067 17.6169 8.61767 17.7794 9.24913C17.8931 9.69107 18.2916 10 18.7479 10H20V12Z" fill="currentColor"/>
        <path d="M13.5966 10.152L10.3966 8.15203C10.0884 7.95929 9.69978 7.94916 9.38184 8.12536C9.06384 8.30163 8.86658 8.63649 8.86658 9.00003V13C8.86658 13.3636 9.06384 13.6985 9.38184 13.8747C9.53291 13.9584 9.69984 14 9.86658 14C10.0508 14 10.2348 13.9492 10.3966 13.848L13.5966 11.848C13.889 11.6653 14.0666 11.3448 14.0666 11C14.0666 10.6552 13.889 10.3348 13.5966 10.152Z" fill="currentColor"/>
      </svg>
    `,
    page: controllers
  },
  {
    id: PANEL_MENUS.PROFILE,
    path: APP_PATHS.PROFILE,
    ariaLabel: "Perfil",
    icon: `
      <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_4076_99)"><path d="M19.25 10.5C19.25 11.8924 18.6969 13.2277 17.7123 14.2123C16.7277 15.1969 15.3924 15.75 14 15.75C12.6076 15.75 11.2723 15.1969 10.2877 14.2123C9.30312 13.2277 8.75 11.8924 8.75 10.5C8.75 9.10761 9.30312 7.77226 10.2877 6.78769C11.2723 5.80312 12.6076 5.25 14 5.25C15.3924 5.25 16.7277 5.80312 17.7123 6.78769C18.6969 7.77226 19.25 9.10761 19.25 10.5Z" fill="currentColor"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M0 14C0 10.287 1.475 6.72601 4.10051 4.10051C6.72601 1.475 10.287 0 14 0C17.713 0 21.274 1.475 23.8995 4.10051C26.525 6.72601 28 10.287 28 14C28 17.713 26.525 21.274 23.8995 23.8995C21.274 26.525 17.713 28 14 28C10.287 28 6.72601 26.525 4.10051 23.8995C1.475 21.274 0 17.713 0 14ZM14 1.75C11.6931 1.75012 9.43314 2.40163 7.4802 3.62955C5.52727 4.85746 3.96074 6.61187 2.96094 8.69084C1.96113 10.7698 1.56868 13.0888 1.82875 15.381C2.08882 17.6732 2.99084 19.8454 4.431 21.6475C5.6735 19.6455 8.40875 17.5 14 17.5C19.5912 17.5 22.3248 19.6437 23.569 21.6475C25.0092 19.8454 25.9112 17.6732 26.1713 15.381C26.4313 13.0888 26.0389 10.7698 25.0391 8.69084C24.0393 6.61187 22.4727 4.85746 20.5198 3.62955C18.5669 2.40163 16.3069 1.75012 14 1.75Z" fill="currentColor"/>
        </g>
        <defs><clipPath id="clip0_4076_99"><rect width="28" height="28" fill="white"/></clipPath></defs>
      </svg>
    `,
    page: () => {}
  }
];

export function panel(activeMenu) {
  const menuPage = panelMenus.find(menu => menu.id === activeMenu).page();

  const html = /*html*/ `
    ${menuPage?.html ? menuPage.html : "<h1 class=\"text-white font-semibold text-xl leading-8\">Bem-vindo(a)!</h1>"}
    <footer class="mt-auto -mb-12 sm:-mx-[1.875rem] -mx-5 py-4 px-14 border-t-2 border-footer-border">
      <nav class="footer-menu">
        <ul class="flex gap-2 justify-between">
          ${panelMenus.map(menu => (`
            <li>
              <a aria-label="${menu.ariaLabel}" href="${menu.path}" class="${activeMenu === menu.id ? "text-primary" : "text-menu hover:text-primary/60"}">
                ${menu.icon}
              </a>
            </li>
          `)).join("")}
        </ul>
      </nav>
    </footer>
  `;

  function execute() {
    if (!menuPage) return;
    if (typeof menuPage.execute === "function") menuPage.execute();
  }

  return {
    html, execute
  };
}